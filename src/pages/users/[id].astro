---
import Layout from '@layouts/Layout.astro';

export async function getStaticPaths() {

  const users  = await fetch('https://jsonplaceholder.typicode.com/users/')
  .then((data) => data.json());

  return users.map((user: any) => {
    return {
      params: { id: user.id },
      props: { user }
    };
  })
}

const { user } = Astro.props;
---

<Layout title='Individual User'>

  <h2>{user.name}</h2>
  <ul>
    <li>Company: {user.company.name}</li>
    <li>City: {user.address.city}, {user.address.zipcode}</li>
    <li>URL: <a href={user.website}>{user.website}</a></li>
    <li>Email:  <a href={`mailto:${user.email}?subject=Correspondence via Photo-Fake`}>{user.email}</a></li>
  </ul>

</Layout>